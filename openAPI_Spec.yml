openapi: 3.1.0
x-stoplight:
  id: p2q96dwhra9ne
info:
  title: ToolKeeper
  version: '1.0'
  summary: 'Backend RESTapi '
  description: Backend API for setting and getting stored values within the Toolkeeper Application
  contact:
    name: Dave Luhman
    url: ado.software
    email: dave@ado.fotware
  license:
    name: ''
    identifier: ''
servers:
  - url: 'http://toolkeeper.dev.ado.software:3000/api'
paths:
  /user:
    post:
      summary: POST Create New User
      operationId: post-user
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  _id:
                    type: string
                  firstName:
                    type: string
                  lastName:
                    type: string
                  email:
                    type: string
                  password:
                    type: string
                  role:
                    type: string
                  disabled:
                    type: boolean
                  createdAt:
                    type: string
                  updatedAt:
                    type: string
                  lastLogin:
                    type: string
                  __v:
                    type: integer
                x-examples:
                  Example 1:
                    _id: 63b008773aaef2af0f76b223
                    firstName: Eric
                    lastName: Jensen
                    email: eric@ado.software
                    password: a;h;a645dsf;a
                    role: Manager
                    disabled: false
                    createdAt: '2022-12-31T10:01:27.086Z'
                    updatedAt: '2022-12-31T10:01:27.086Z'
                    lastLogin: '2022-12-31T10:01:27.086Z'
                    __v: 0
              examples:
                New User Bob Fellow:
                  value:
                    id: 12
                    firstName: Bob
                    lastName: Fellow
                    email: bob.fellow@gmail.com
                    dateOfBirth: '1996-08-24'
                    emailVerified: false
                    createDate: '2020-11-18'
        '400':
          description: Missing Required Information
        '409':
          description: Email Already Taken
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                firstName:
                  type: string
                lastName:
                  type: string
                email:
                  type: string
                password:
                  type: string
                role:
                  type: string
                disabled:
                  type: boolean
              x-examples:
                Example 1:
                  firstName: Eric
                  lastName: Jensen
                  email: eric@ado.software
                  password: a;h;a645dsf;a
                  role: Manager
                  disabled: false
            examples:
              Create User Bob Fellow:
                value:
                  firstName: Bob
                  lastName: Fellow
                  email: bob.fellow@gmail.com
                  dateOfBirth: '1996-08-24'
        description: Post the necessary fields for the API to create a new user.
      description: Create a new user.
    get:
      summary: GET Current User Context Details
      operationId: get-user
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  user:
                    type: object
                    properties:
                      _id:
                        type: string
                      firstName:
                        type: string
                      lastName:
                        type: string
                      email:
                        type: string
                      password:
                        type: string
                      role:
                        type: string
                      disabled:
                        type: boolean
                      createdAt:
                        type: string
                      updatedAt:
                        type: string
                      lastLogin:
                        type: string
                      __v:
                        type: integer
                x-examples:
                  Example 1:
                    message: success
                    user:
                      _id: 63aff9163aaef2af0f76b221
                      firstName: Dave
                      lastName: Luhman
                      email: dave@ado.software
                      password: a;h;faojksdhfadfhs;a
                      role: Admin
                      disabled: false
                      createdAt: '2022-12-31T08:55:50.746Z'
                      updatedAt: '2022-12-31T08:55:50.746Z'
                      lastLogin: '2022-12-31T08:55:50.746Z'
                      __v: 0
      description: Returns the user object for the currently logged in user's context
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                firstName:
                  type: string
                lastName:
                  type: string
                role:
                  type: string
                password:
                  type: string
              x-examples:
                Example 1:
                  email: dave@ado.software
                  firstName: Dave
                  lastName: Luhman
                  role: Admin
                  password: a;h;faojksdhfadfhs;a
        description: There is a virtual computed value for displayName (firstName + ' ' + lastName)
    put:
      summary: Update User by _ID
      operationId: put-user
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  _id:
                    type: string
                  firstName:
                    type: string
                  lastName:
                    type: string
                  email:
                    type: string
                  password:
                    type: string
                  role:
                    type: string
                  disabled:
                    type: boolean
                  createdAt:
                    type: string
                  updatedAt:
                    type: string
                  lastLogin:
                    type: string
                  __v:
                    type: integer
                x-examples:
                  Example 1:
                    _id: 63b008773aaef2af0f76b223
                    firstName: Eric
                    lastName: Jensen
                    email: eric@ado.software
                    password: a;h;a645dsf;a
                    role: Manager
                    disabled: false
                    createdAt: '2022-12-31T10:01:27.086Z'
                    updatedAt: '2022-12-31T10:01:27.086Z'
                    lastLogin: '2022-12-31T10:01:27.086Z'
                    __v: 0
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                _id:
                  type: string
                firstName:
                  type: string
                lastName:
                  type: string
                email:
                  type: string
                password:
                  type: string
                role:
                  type: string
                disabled:
                  type: boolean
              x-examples:
                Example 1:
                  _id: 63b008773aaef2af0f76b223
                  firstName: Eric
                  lastName: Jensen
                  email: eric@ado.software
                  password: a;h;a645dsf;a
                  role: Manager
                  disabled: false
  /users:
    get:
      summary: GET All Users
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    _id:
                      type: string
                    firstName:
                      type: string
                    lastName:
                      type: string
                    email:
                      type: string
                    password:
                      type: string
                    role:
                      type: string
                    disabled:
                      type: boolean
                    createdAt:
                      type: string
                    updatedAt:
                      type: string
                    lastLogin:
                      type: string
                    __v:
                      type: integer
                x-examples:
                  Example 1:
                    - _id: 63aff9163aaef2af0f76b221
                      firstName: Dave
                      lastName: Luhman
                      email: dave@ado.software
                      password: a;h;faojksdhfadfhs;a
                      role: Admin
                      disabled: false
                      createdAt: '2022-12-31T08:55:50.746Z'
                      updatedAt: '2022-12-31T08:55:50.746Z'
                      lastLogin: '2022-12-31T08:55:50.746Z'
                      __v: 0
                    - _id: 63b008773aaef2af0f76b223
                      firstName: Eric
                      lastName: Jensen
                      email: eric@ado.software
                      password: a;h;a645dsf;a
                      role: Manager
                      disabled: false
                      createdAt: '2022-12-31T10:01:27.086Z'
                      updatedAt: '2022-12-31T10:01:27.086Z'
                      lastLogin: '2022-12-31T10:01:27.086Z'
                      __v: 0
      operationId: get-users
      description: Returns all users in the collection
  /tool:
    get:
      summary: GET Find A Tool By _ID || SerialNumber
      tags: []
      responses: {}
      operationId: get-tool
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                serialNumber:
                  type: string
                _id:
                  type: string
              x-examples:
                Example 1:
                  serialNumber: '12345674890'
                  _id: 123ABC123
    post:
      summary: POST Create A New Tool
      operationId: post-tool
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  _id:
                    type: string
                  serialNumber:
                    type: string
                  partNumber:
                    type: string
                  barcode:
                    type: integer
                  status:
                    type: string
                  serviceAssignment:
                    type: string
                  description:
                    type: string
                  manufacturer:
                    type: string
                  archived:
                    type: boolean
                  image:
                    type: 'null'
                  createdAt:
                    type: string
                  updatedAt:
                    type: string
                  updatedBy:
                    type: string
                  __v:
                    type: integer
                x-examples:
                  Example 1:
                    _id: 63b01432f6fc5af7f98e4a5e
                    serialNumber: '12345674890'
                    partNumber: 123ABC123
                    barcode: 123123
                    status: CI - Shop Toolroom
                    serviceAssignment: Van 14
                    description: 24v Impactor
                    manufacturer: Ryobi
                    archived: false
                    image: null
                    createdAt: '2022-12-31T10:51:30.481Z'
                    updatedAt: '2022-12-31T10:51:30.481Z'
                    updatedBy: 63aff9163aaef2af0f76b221
                    __v: 0
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                serialNumber:
                  type: string
                partNumber:
                  type: string
                barcode:
                  type: integer
                status:
                  type: string
                serviceAssignment:
                  type: string
                description:
                  type: string
                manufacturer:
                  type: string
                archived:
                  type: boolean
                user._id:
                  type: string
                image:
                  type: 'null'
              x-examples:
                Example 1:
                  serialNumber: '12345674890'
                  partNumber: 123ABC123
                  barcode: 123123
                  status: CI - Shop Toolroom
                  serviceAssignment: Van 14
                  description: 24v Impactor
                  manufacturer: Ryobi
                  archived: false
                  user._id: 63aff9163aaef2af0f76b221
                  image: null
    put:
      summary: PUT Update A Tool By _id
      operationId: put-tool
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  _id:
                    type: string
                  serialNumber:
                    type: string
                  partNumber:
                    type: string
                  barcode:
                    type: integer
                  status:
                    type: string
                  serviceAssignment:
                    type: string
                  description:
                    type: string
                  manufacturer:
                    type: string
                  archived:
                    type: boolean
                  image:
                    type: 'null'
                  createdAt:
                    type: string
                  updatedAt:
                    type: string
                  updatedBy:
                    type: string
                  __v:
                    type: integer
                x-examples:
                  Example 1:
                    _id: 63b01432f6fc5af7f98e4a5e
                    serialNumber: '12345674890'
                    partNumber: 123ABC123
                    barcode: 123123
                    status: CI - Shop Toolroom
                    serviceAssignment: Van 14
                    description: 24v Impactor
                    manufacturer: Ryobi
                    archived: false
                    image: null
                    createdAt: '2022-12-31T10:51:30.481Z'
                    updatedAt: '2022-12-31T10:51:30.481Z'
                    updatedBy: 63aff9163aaef2af0f76b221
                    __v: 0
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                _id:
                  type: string
                serialNumber:
                  type: string
                partNumber:
                  type: string
                barcode:
                  type: integer
                status:
                  type: string
                serviceAssignment:
                  type: string
                description:
                  type: string
                manufacturer:
                  type: string
                archived:
                  type: boolean
                image:
                  type: 'null'
              x-examples:
                Example 1:
                  _id: 63b01432f6fc5af7f98e4a5e
                  serialNumber: '12345674890'
                  partNumber: 123ABC123
                  barcode: 123123
                  status: CO - Jobsite
                  serviceAssignment: Truax Airfield
                  description: 24v Impactor
                  manufacturer: Ryobi
                  archived: false
                  image: null
  /tools/search:
    get:
      summary: GET All Tools that match req.body
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  _id:
                    type: string
                  serialNumber:
                    type: string
                  partNumber:
                    type: string
                  barcode:
                    type: integer
                  status:
                    type: string
                  serviceAssignment:
                    type: string
                  description:
                    type: string
                  manufacturer:
                    type: string
                  archived:
                    type: boolean
                  image:
                    type: 'null'
                  createdAt:
                    type: string
                  updatedAt:
                    type: string
                  updatedBy:
                    type: string
                  __v:
                    type: integer
                x-examples:
                  Example 1:
                    _id: 63b01432f6fc5af7f98e4a5e
                    serialNumber: '12345674890'
                    partNumber: 123ABC123
                    barcode: 123123
                    status: CI - Shop Toolroom
                    serviceAssignment: Van 14
                    description: 24v Impactor
                    manufacturer: Ryobi
                    archived: false
                    image: null
                    createdAt: '2022-12-31T10:51:30.481Z'
                    updatedAt: '2022-12-31T10:51:30.481Z'
                    updatedBy: 63aff9163aaef2af0f76b221
                    __v: 0
      operationId: get-tools
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                partNumber:
                  type: string
                barcode:
                  type: integer
                status:
                  type: string
                serviceAssignment:
                  type: string
                description:
                  type: string
                manufacturer:
                  type: string
                archived:
                  type: boolean
              x-examples:
                Example 1:
                  partNumber: 123ABC123
                  barcode: 123123
                  status: CO - Jobsite
                  serviceAssignment: Truax Airfield
                  description: 24v Impactor
                  manufacturer: Ryobi
                  archived: false
          application/xml:
            schema:
              type: object
              properties: {}
        description: 'Starting from Part number, the function will match with following parameters until it fails to.'
    parameters: []
components:
  schemas:
    User:
      type: object
      x-examples:
        Example 1:
          _id: 63aff9163aaef2af0f76b221
          firstName: Dave
          lastName: Luhman
          email: dave@ado.software
          password: a;h;faojksdhfadfhs;a
          role: Admin
          disabled: false
          createdAt: '2022-12-31T08:55:50.746Z'
          updatedAt: '2022-12-31T08:55:50.746Z'
          lastLogin: '2022-12-31T08:55:50.746Z'
          __v: 0
      properties:
        _id:
          type: string
        firstName:
          type: string
        lastName:
          type: string
        email:
          type: string
        password:
          type: string
        role:
          type: string
          enum:
            - Admin
            - Manager
            - User
        disabled:
          type: boolean
        createdAt:
          type: string
        updatedAt:
          type: string
        lastLogin:
          type: string
        __v:
          type: integer
      title: User
      description: |-
        Generic User Model
          Not included is the "displayName" computed attribute (firstName + ' ' + lastName)
      examples:
        - _id: 63aff9163aaef2af0f76b221
          firstName: Dave
          lastName: Luhman
          email: dave@ado.software
          password: a;h;faojksdhfadfhs;a
          role: Admin
          disabled: false
          createdAt: '2022-12-31T08:55:50.746Z'
          updatedAt: '2022-12-31T08:55:50.746Z'
          lastLogin: '2022-12-31T08:55:50.746Z'
          __v: 0
    Tool:
      type: object
      properties:
        _id:
          type: string
        serialNumber:
          type: string
        partNumber:
          type: string
        barcode:
          type: integer
        status:
          type: string
        serviceAssignment:
          type: string
        description:
          type: string
        manufacturer:
          type: string
        archived:
          type: boolean
        image:
          type: 'null'
        user:
          type: object
          properties:
            _id:
              type: string
        createdAt:
          type: string
        updatedAt:
          type: string
        updatedBy:
          type: string
        __v:
          type: integer
      x-examples:
        Example 1:
          _id: 63b01432f6fc5af7f98e4a5e
          serialNumber: '12345674890'
          partNumber: 123ABC123
          barcode: 123123
          status: CO - Jobsite
          serviceAssignment: Truax Airfield
          description: 24v Impactor
          manufacturer: Ryobi
          archived: false
          image: null
          user:
            _id: 63aff9163aaef2af0f76b221
          createdAt: '2022-12-31T10:51:30.481Z'
          updatedAt: '2022-12-31T11:12:56.670Z'
          updatedBy: 63aff9163aaef2af0f76b221
          __v: 0
      title: Tool Model
  requestBodies:
    Req:
      content:
        application/json:
          schema:
            type: object
            properties:
              _id:
                type: string
              serialNumber:
                type: string
  responses:
    Res:
      description: Example response
      content:
        application/json:
          schema:
            properties:
              id:
                type: string

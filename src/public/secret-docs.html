<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ToolKeeper Documentation</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>ToolKeeper Web Application Overview</h1>
    </header>
    <main>
        <section class="overview">
            <h2>Overview</h2>
            <p><strong>ToolKeeper</strong> is a comprehensive tool management system designed to streamline the process of tracking, managing, and maintaining tools, materials, and service assignments within an organization. The application features a modular design that ensures easy scalability and maintenance.</p>
            <p>This document outlines the key components, architecture, and features of the ToolKeeper system, focusing on the core operations: <strong>authentication, authorization, CRUD operations for tools, materials, categories, and user management</strong>.</p>
        </section>

        <section class="features">
            <h2>Key Features</h2>
            <ul>
                <li><strong>Tool Management</strong>: Enables users to check tools in and out, manage tool details, and create batch entries. The tool management interface provides features like archiving, search, and detailed reporting.</li>
                <li><strong>User and Role Management</strong>: Role-based access control ensures secure access to features based on user roles (e.g., Admin, Manager, Regular User).</li>
                <li><strong>Service Assignments and Materials Management</strong>: Flexible options for managing service assignments and categories linked to tools.</li>
                <li><strong>Custom Reporting</strong>: Generates print-friendly lists and dashboards to help visualize tool availability and assignment status.</li>
                <li><strong>Integration-Ready Middleware</strong>: Modular middleware for authentication, logging, error handling, and database operations.</li>
            </ul>
        </section>

        <section class="architecture">
            <h2>System Architecture</h2>
            <p>The ToolKeeper application is built using a modular architecture that includes:</p>
            <ol>
                <li><strong>Middleware Functions</strong>: Located in the <code>src/middleware</code> directory, these functions handle core operations such as <strong>authentication</strong>, <strong>authorization</strong>, and <strong>CRUD (Create, Read, Update, Delete)</strong> operations for various entities.
                    <ul>
                        <li><strong>Authentication & Authorization</strong>: Manages user login, logout, and access control to ensure that only authorized users can perform specific actions.</li>
                        <li><strong>Tool Management</strong>: Handles operations such as tool search, check-in/check-out, updating tool information, archiving, and generating reports.</li>
                        <li><strong>Service Assignment & Category Management</strong>: Manages service assignments, categories, and materials to maintain tool organization.</li>
                    </ul>
                </li>
                <li><strong>Routing and Controller Logic</strong>: Defined in the <code>src/routes</code> and <code>src/controllers</code> directories, these modules manage user interaction, page rendering, and business logic.</li>
                <li><strong>Database Schema</strong>: Defined in the <code>src/models</code> directory, these schemas provide structure and validation for entities like <strong>tools</strong>, <strong>service assignments</strong>, and <strong>users</strong>, using <strong>MongoDB</strong> with <strong>Mongoose</strong> ODM.</li>
                <li><strong>Client-Side Enhancements</strong>: JavaScript is used to improve the user experience by handling dynamic form interactions and data visualization.</li>
            </ol>
        </section>

        <section class="configuration">
            <h2>Configuration & Setup</h2>
            <ol>
                <li><strong>Server Configuration</strong>:
                    <ul>
                        <li><strong>Database Connection</strong> (<code>db.js</code>): Manages the MongoDB connection and initializes the database with essential documents.</li>
                        <li><strong>Logging</strong> (<code>logger.js</code>): Configures logging with <strong>Winston</strong> to capture both error and standard activity logs.</li>
                        <li><strong>Authentication</strong> (<code>passport.js</code>): Configures <strong>Passport.js</strong> for managing user sessions.</li>
                    </ul>
                </li>
                <li><strong>Middleware Configuration</strong>:
                    <ul>
                        <li>Handles authentication, authorization, and CRUD operations to keep the codebase modular and maintainable.</li>
                    </ul>
                </li>
            </ol>
        </section>

        <section class="usage-scenarios">
            <h2>Usage Scenarios</h2>
            <ul>
                <li><strong>Tool Checkout Workflow</strong>: Users can check tools in or out for specific service assignments, creating a history for accountability.</li>
                <li><strong>Batch Creation of Tools</strong>: Administrators can add multiple tools at once, simplifying onboarding of new inventory.</li>
                <li><strong>Dashboard Reporting</strong>: Displays an overview of tools and their statuses, recent activity, and summaries to help users assess tool availability.</li>
            </ul>
        </section>

        <section class="utility-functions">
            <h2>Utility Functions</h2>
            <p>The utility functions are located in <code>src/middleware/util.js</code> and include:</p>
            <ul>
                <li><strong>Data Transformation</strong>: Functions like <code>mutateToArray()</code> ensure consistent data handling across modules.</li>
                <li><strong>Sanitization</strong>: Input sanitization functions (<code>sanitize()</code> and <code>sanitizeReqBody()</code>) prevent injection attacks.</li>
                <li><strong>Rate Limiting</strong>: Protects the application from brute-force attacks using rate limiter middleware.</li>
                <li><strong>Error Handling</strong>: Centralized error handling (<code>AppError</code> and <code>errorHandler()</code>) ensures consistent logging and error responses.</li>
            </ul>
        </section>

        <section class="extensibility">
            <h2>Extensibility and Maintenance</h2>
            <p>ToolKeeper is designed with <strong>extensibility</strong> in mind, allowing developers to easily add or modify features. Key components are organized to simplify updates and future feature implementations, with detailed logging and error handling providing a robust and maintainable codebase.</p>
        </section>

        <section class="getting-started">
            <h2>Getting Started</h2>
            <ul>
                <li><strong>Installation</strong>: Clone the repository and configure environment variables using <code>.env</code> files.</li>
                <li><strong>Setup</strong>: Run <code>db.js</code> to initialize the database with default users and service assignments.</li>
                <li><strong>Access</strong>: Use the default admin credentials to access the application and start adding tools, users, and assignments.</li>
            </ul>
        </section>
    </main>
</body>
</html>

{{!--The following code is used to create the list of tools in the database.--}}
{{!--This code block will only run if the user is logged in.--}}
{{#if loggedIn}}
    {{!--The following code will only run if there are tools in the database.--}}
    {{#if tools}}
        {{!--The following code will only run if there are tools in the database that are not archived.--}}
        {{#if toolsNotArchived}}
            {{!--The following code will only run if the user has searched for tools.--}}
            {{#if searchTerms}}
                {{!--This code will display the search terms on the page.--}}
                <h1 id="search-terms">Searched For: <br />{{searchTerms}}</h1>
            {{/if}}

            {{!--The following code will display the table with the list of tools.--}}
            <table class="z-0 table">
                <thead>
                    <tr>
                        <th>Serial number</th>
                        <th>Part Number</th>
                        <th>Barcode #</th>
                        <th>Description</th>
                        <th>Status</th>
                        <th>Service Assignment</th>
                        <th>Edit</th>
                    </tr>
                </thead>
                <tbody>
                    {{!--The following code will loop through each tool in the database.--}}
                    {{#each tools}}
                        {{!--The following code will only run if the tool is not archived.--}}
                        {{#unless archived}}
                            <tr>
                                <td id="serialNumber">{{serialNumber}}</td>
                                <td id="partNumber">{{partNumber}}</td>
                                <td id="barcode">{{barcode}}</td>
                                <td id="description">{{description}}</td>
                                <td id="status">{{status}}</td>
                                <td id="serviceAssignment">{{serviceAssignment}}</td>
                                <td>
                                    {{!--The following code will display the dropdown menu for each tool.--}}
                                    <div class="dropdown dropdown-end">
                                        <label tabindex="0" class="dropdown-label">
                                            <i class="fa-solid fa-chevron-down hover:rotate-90"></i></label>
                                        <ul tabindex="0" class="dropdown-item-wrapper">
                                            <li><a class="navbar-link" href="/tool/{{id}}">Edit</a></li>
                                            <li><a class="navbar-link" href="/tool/archive/{{id}}">Archive</a></li>
                                        </ul>
                                    </div>
                                </td>
                            </tr>
                        {{/unless}}
                    {{/each}}
                </tbody>
            </table>
        {{/if}}
    {{/if}}
{{/if}}
{{#gt pagination.pageCount 1}}
<ul class="paginate-bar">
    {{#paginate pagination type="first"}}
    <div class="col-auto"><a href="?p={{n}}"><button class="btn-paginate">First</button></a></div>
    {{/paginate}}
    {{#paginate pagination type="previous"}}
    <div class="col-auto"><a href="?p={{n}}"><button class="btn-paginate">Previous</button></a></div>
    {{/paginate}}
    {{#paginate pagination type="middle" limit="9"}}
    <div class="{{#if active}}active{{/if}} col"><a href="?p={{n}}"><button class="btn-paginate">{{n}}</button></a>
    </div>
    {{/paginate}}
    {{#paginate pagination type="next"}}
    <div class="col-auto"><a href="?p={{n}}"><button class="btn-paginate">Next</button></a></div>
    {{/paginate}}
    {{#paginate pagination type="last"}}
    <div class="col-auto"><a href="?p={{n}}"><button class="btn-paginate">Last</button></a></div>
    {{/paginate}}
</ul>
{{/gt}}
</div>